!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},r={},t=e.parcelRequire3642;null==t&&((t=function(e){if(e in o)return o[e].exports;if(e in r){let t=r[e];delete r[e];let n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}).register=function(e,o){r[e]=o},e.parcelRequire3642=t),t.register("1IKza",(function(e,o){"use strict";var r=t("4kTxt"),n=t("K8GvD");const l=TrelloPowerUp.Promise;e.exports=(e,o)=>l.try((()=>o&&o.repo?[o.repo]:e.get("board","shared","repos",[]))).map((o=>r.getRepo(e,o.owner.login,o.name).catch(n,(()=>null)))).filter((e=>e))})),t.register("3OPwS",(function(e,o){"use strict";var r=t("4kTxt"),n=t("1IKza"),l=t("K8GvD"),a=t("13ktN");const i=TrelloPowerUp.Promise,p=(e,o)=>{const r=e=>o(e).catch(l,(o=>{if(o instanceof l.Unauthorized)return((e,o)=>new i((r=>e.popup({title:e.localizeKey("authorize"),url:"authorize.html",callback:e=>o(e).then(r),height:140}))))(e,r);if(o instanceof l.InvalidRepo)return m(e,r);if(o instanceof l.InvalidBranch)return d(e,r);throw o}));return r(e)},s=(e,o,r,t)=>{r.chooseBranch&&o.push({text:e.localizeKey("choose_a_different_branch_ellipsis"),callback:e=>d(e,t),alwaysVisible:!0}),r.chooseRepo&&o.push({text:e.localizeKey("choose_a_different_repo_ellipsis"),callback:e=>h(e,t),alwaysVisible:!0})},c=(e,o,r,t)=>p(e,(e=>r.getList(e,t).then((t=>new i((n=>{const l=r.nameAttr||"name",a=t.map((e=>({text:e[l],callback:t=>i.try((()=>r.set(e))).then((e=>o(t,e))).then(n)})));return s(e,a,r,((e,t)=>c(e,o,r,t))),e.popup({items:a,title:r.title,search:r.search})})))))),h=(e,o)=>c(e,o,{getList:e=>r.getAllReposSorted(e).map((e=>({repo:e,name:e.full_name}))),set:e=>({repo:{full_name:e.repo.full_name,name:e.repo.name,owner:{login:e.repo.owner.login,type:e.repo.owner.type}}}),title:e.localizeKey("choose_a_repo_ellipsis"),search:{count:10,placeholder:e.localizeKey("search_for_repo_ellipsis"),empty:e.localizeKey("no_repos_found")}}),u=(e,o)=>1===o.length&&e===o[0]?null:o.some((o=>o.owner.login!==e.owner.login))?e.owner.full_name:e.name,f=(e,o,r)=>n(e,r).then((e=>{if(0===e.length)throw new l.InvalidRepo;return i.map(e,(r=>i.props({items:o(r),prefix:u(r,e),repo:r})))})).then((e=>Array.prototype.concat.apply([],e.map((e=>e.items.map((o=>({item:o,prefix:e.prefix,repo:e.repo})))))))),m=(e,o)=>c(e,o,{getList:e=>r.getAllReposSorted(e).map((e=>({name:e.full_name,repo:e}))),set:o=>{const r={full_name:o.repo.full_name,name:o.repo.name,owner:{login:o.repo.owner.login,type:o.repo.owner.type}};return e.get("board","shared","repos",[]).then((o=>{if(o.some((e=>e.name===r.name&&e.owner.login===r.owner.login)))return null;const t=o.slice();return t.push(r),e.set("board","shared","repos",t)}))},title:e.localizeKey("choose_a_repo_ellipsis"),search:{count:10,placeholder:e.localizeKey("search_for_repo_ellipsis"),empty:e.localizeKey("no_repos_found")}}),d=(e,o)=>c(e,o,{getList:(e,o)=>f(e,(o=>r.getAllBranches(e,o)),o).map((e=>a(e,{displayName:(e.prefix?"".concat(e.prefix," "):"")+e.item.name}))),nameAttr:"displayName",set:o=>{const r={name:o.item.name,repo:{name:o.repo.name,owner:{login:o.repo.owner.login,type:o.repo.owner.type}}};return e.set("board","private","branch",r).then((()=>({branch:r})))},title:e.localizeKey("choose_a_branch_ellipsis"),search:{count:10,placeholder:e.localizeKey("search_for_branch_ellipsis"),empty:e.localizeKey("no_branches_found")},chooseRepo:!0});e.exports={addChooseOther:s,getRepoItems:f,handleErrors:p,chooseRepo:m,chooseBranch:d}})),t.register("13ktN",(function(e,o){e.exports=function(){for(var e={},o=0;o<arguments.length;o++){var t=arguments[o];for(var n in t)r.call(t,n)&&(e[n]=t[n])}return e};var r=Object.prototype.hasOwnProperty}))}();
//# sourceMappingURL=index.9b5aa9a5.js.map
